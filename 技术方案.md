# 技术方案

## 1. 技术选型

### 前端技术栈
- **框架**: Vue 3 (Composition API)
- **构建工具**: Vite
- **UI组件库**: Element Plus
- **状态管理**: Pinia
- **样式方案**: Tailwind CSS
- **图标库**: @element-plus/icons-vue

### 数据存储
- **配置格式**: JSON文件
- **访问统计**: LocalStorage（本地存储）

### 部署平台
- **平台**: Vercel
- **域名**: dykongshan.com
- **HTTPS**: Vercel自动提供

## 2. 核心功能

### 2.1 主页展示
- 响应式布局，适配移动端/平板/桌面端
- 品牌标识和页面标题
- 子域名链接以卡片形式展示

### 2.2 子域名管理
- **链接配置**: 支持配置URL、标题、描述、图标
- **分类管理**: 支持将子域名按类别分组
- **快速跳转**: 点击卡片直接跳转到对应子域名

### 2.3 交互功能
- **搜索过滤**: 实时搜索，支持按标题和描述过滤
- **分类切换**: 点击分类标签快速筛选
- **主题切换**: 支持明亮/暗黑主题
- **点击统计**: 记录每个链接的点击次数

## 3. 数据结构设计

### 3.1 配置文件结构 (data/links.json)
```json
{
  "siteInfo": {
    "title": "DY Kong Shan",
    "description": "子域名导航中心",
    "logo": "/logo.png"
  },
  "categories": [
    {
      "id": "dev",
      "name": "开发工具",
      "icon": "⚙️"
    },
    {
      "id": "docs",
      "name": "文档中心",
      "icon": "📚"
    },
    {
      "id": "services",
      "name": "在线服务",
      "icon": "🌐"
    }
  ],
  "links": [
    {
      "id": "cicd",
      "title": "CI/CD Action",
      "url": "https://cicdaction.dykongshan.com",
      "description": "持续集成与部署工具",
      "categoryId": "dev",
      "icon": "🚀",
      "clickCount": 0,
      "createdAt": "2024-01-01"
    }
  ]
}
```

### 3.2 本地存储结构
```javascript
// LocalStorage Key: 'clickStats'
{
  "cicd": {
    "count": 10,
    "lastClickAt": "2024-01-15T10:30:00Z"
  }
}
```

## 4. 项目结构

```
dykongshan_page/
├── public/
│   └── logo.png
├── src/
│   ├── assets/
│   │   └── styles/
│   │       └── global.css
│   ├── components/
│   │   ├── LinkCard.vue          # 链接卡片组件
│   │   ├── SearchBar.vue         # 搜索框组件
│   │   ├── CategoryFilter.vue     # 分类筛选组件
│   │   ├── ThemeToggle.vue       # 主题切换组件
│   │   └── Header.vue             # 页面头部组件
│   ├── composables/
│   │   ├── useTheme.js           # 主题切换逻辑
│   │   ├── useLinks.js           # 链接数据管理
│   │   └── useStats.js           # 统计功能
│   ├── data/
│   │   └── links.json            # 子域名配置数据
│   ├── stores/
│   │   └── theme.js              # Pinia状态管理
│   ├── App.vue                   # 根组件
│   └── main.js                   # 入口文件
├── .gitignore
├── index.html
├── package.json
├── tailwind.config.js
├── vite.config.js
└── vercel.json                   # Vercel部署配置
```

## 5. 核心组件设计

### 5.1 LinkCard.vue
- 展示链接标题、描述、图标
- 显示点击统计
- 支持暗黑模式样式
- 点击跳转并记录统计

### 5.2 SearchBar.vue
- 实时搜索输入框
- 支持防抖优化
- 清空搜索功能

### 5.3 CategoryFilter.vue
- 分类标签展示
- 选中状态高亮
- 支持全部/分类切换

### 5.4 ThemeToggle.vue
- 明亮/暗黑主题切换
- 图标动画效果
- 本地存储主题偏好

## 6. 样式设计

### 6.1 设计系统
- **配色方案**:
  - 明亮主题: 白色背景，深色文字，蓝色主色
  - 暗黑主题: 深灰背景，浅色文字，蓝色主色
- **响应式断点**:
  - Mobile: < 640px
  - Tablet: 640px - 1024px
  - Desktop: > 1024px
- **卡片样式**: 圆角、阴影、hover效果

### 6.2 Tailwind CSS配置
```javascript
// tailwind.config.js
module.exports = {
  darkMode: 'class',
  theme: {
    extend: {
      colors: {
        primary: '#3B82F6',
        dark: '#1F2937',
        light: '#F3F4F6'
      }
    }
  }
}
```

## 7. 部署流程

### 7.1 Vercel部署配置 (vercel.json)
```json
{
  "version": 2,
  "buildCommand": "npm run build",
  "outputDirectory": "dist",
  "framework": "vite",
  "rewrites": [
    {
      "source": "/(.*)",
      "destination": "/index.html"
    }
  ]
}
```

### 7.2 部署步骤
1. **代码推送到GitHub**
   ```bash
   git add .
   git commit -m "Initial commit"
   git push origin main
   ```

2. **连接Vercel**
   - 访问 vercel.com 并登录
   - 点击 "Add New Project"
   - 选择 GitHub 仓库 `dykongshan`
   - 点击 "Deploy"

3. **配置自定义域名**
   - 进入项目设置 > Domains
   - 添加域名 `dykongshan.com`
   - 配置DNS记录: `A record` → Vercel提供的IP
   - 等待SSL证书自动生成

4. **环境变量（可选）**
   - VERCEL_URL: 自动由Vercel提供

### 7.3 CI/CD自动化
- 推送到main分支自动触发部署
- Vercel提供预览URL
- 部署成功后自动更新生产环境

## 8. 开发计划

### 阶段一：项目初始化 (1-2小时)
- [x] 创建Vue 3 + Vite项目
- [ ] 安装依赖（Element Plus, Tailwind CSS, Pinia）
- [ ] 配置Tailwind CSS
- [ ] 创建项目目录结构

### 阶段二：数据层开发 (1小时)
- [ ] 创建links.json配置文件
- [ ] 设计数据结构
- [ ] 编写数据读取逻辑

### 阶段三：核心组件开发 (3-4小时)
- [ ] Header组件
- [ ] LinkCard组件
- [ ] SearchBar组件
- [ ] CategoryFilter组件
- [ ] ThemeToggle组件

### 阶段四：功能实现 (2-3小时)
- [ ] 响应式布局
- [ ] 搜索过滤功能
- [ ] 分类切换功能
- [ ] 主题切换功能
- [ ] 点击统计功能

### 阶段五：样式优化 (2小时)
- [ ] Tailwind样式应用
- [ ] 暗黑模式适配
- [ ] 动画效果
- [ ] 移动端优化

### 阶段六：测试与部署 (1-2小时)
- [ ] 功能测试
- [ ] 响应式测试
- [ ] 部署到Vercel
- [ ] 配置自定义域名
- [ ] 验证线上功能

**预计总工时**: 10-12小时

## 9. 技术要点

### 9.1 Vue 3 Composition API
- 使用 `setup()` 语法糖
- 响应式数据使用 `ref()` 和 `reactive()`
- 组合式函数封装逻辑

### 9.2 性能优化
- 虚拟滚动（链接数量多时）
- 防抖搜索输入
- 图片懒加载
- 代码分割

### 9.3 SEO优化
- 配置meta标签
- 使用语义化HTML
- 添加sitemap
- 配置robots.txt

### 9.4 安全性
- XSS防护（Vue默认提供）
- HTTPS强制
- CSP头部配置

## 10. 扩展功能（可选）

### 10.1 后台管理
- 添加简单的管理界面
- 支持在线编辑JSON配置
- 需要认证机制

### 10.2 数据分析
- 集成Google Analytics
- 访问统计可视化
- 热门链接排行

### 10.3 多语言支持
- i18n国际化
- 中英文切换

### 10.4 PWA支持
- 离线访问
- 添加到主屏幕
- 推送通知

## 11. 维护与更新

### 11.1 添加新子域名
1. 编辑 `src/data/links.json`
2. 添加新的链接对象
3. 提交并推送到GitHub
4. Vercel自动部署

### 11.2 修改样式
1. 修改组件样式
2. 测试响应式效果
3. 提交更新

### 11.3 更新依赖
```bash
npm update
npm audit fix
```

## 12. 技术文档

### 12.1 依赖版本
```json
{
  "vue": "^3.4.0",
  "vite": "^5.0.0",
  "element-plus": "^2.5.0",
  "pinia": "^2.1.0",
  "tailwindcss": "^3.4.0"
}
```

### 12.2 浏览器支持
- Chrome (最新版)
- Firefox (最新版)
- Safari (最新版)
- Edge (最新版)
- 移动端浏览器

### 12.3 开发命令
```bash
# 安装依赖
npm install

# 启动开发服务器
npm run dev

# 构建生产版本
npm run build

# 预览生产构建
npm run preview
```

## 13. 注意事项

1. **域名配置**: 确保DNS记录正确指向Vercel
2. **HTTPS**: Vercel会自动配置SSL证书，无需手动操作
3. **数据备份**: 定期备份links.json配置文件
4. **更新频率**: 链接更新后等待Vercel部署完成（约1-2分钟）
5. **本地存储**: 点击统计数据存储在浏览器Local Storage中，清空浏览器数据会丢失统计
